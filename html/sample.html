<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test Page</title>
</head>
<script>

    $(document).mousemove(function (e) {
        mouseX = e.pageX; // 0 = left
        mouseY = e.pageY; // 0 = top

        console.log(mouseX, mouseY)
    });


    function toolTip(id, key) {
        var docHeight = $(document).height();
        var docWidth = $(document).width();
        $("#" + id + " .tooltiptext").load('toolTips/' + key, function () {


            var tip = $("#" + id)
            var span = $(tip).find('.tooltiptext')
            var height = span.height();
            var width = span.width();

            // get mouse coordinates


            // if all is fine then return
            if (((mouseY + height) < docHeight) && ((mouseX + width) < docWidth)) {
                return
            }

            var offsetV = docHeight - (mouseY + height)
            if (offsetV < 0) {
                // need to move it higher by minimum offset
                var pos = (offsetV - 20) + "px"
                $(span).css("top", pos)
            }

            var offsetH = docWidth - (mouseX + width)
            if (offsetH < 0) {
                // need to move it higher by minimum offset
                var pos = (offsetH - 20) + "px"
                $(span).css("left", pos)
            }
        })
    }


</script>
<style>
    /* Tooltip container */
    .tooltip {
        position: relative;
        display: inline-block;
        /* If you want dots under the hoverable text */
    }

    /* Tooltip text */
    .tooltip .tooltiptext {
        visibility: hidden;
        background-color: rgb(217, 188, 241);
        padding: 5px 0;
        border-radius: 6px;
        /* Position the tooltip text - see examples below! */
        position: absolute;
        /* top: -235px; */
        z-index: 1;
    }

    /* Show the tooltip text when you mouse over the tooltip container */
    .tooltip:hover .tooltiptext {
        visibility: visible;
    }

    #block {
        display: block;
        height: 00px
    }
</style>


<body>
    <div id="test1" class="tooltip">
        <img src="images/question_mark.png" onmouseover="javascript:toolTip('test1','maskEditor.html')">
        </image>
        <span class="tooltiptext"></span>
    </div>
    <table>
        <tr>
            <td>asdfal
                adfadsf
                <div class="t">
                    text
                    <div id="i1">dexd</div>
                </div>
            </td>
            <td>asdfal
                adfadsf
                <div class="t">
                    fexf
                    <div id="i2">gexg</div>
                </div>

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>asdfal
                adfadsf

            </td>
            <td>
                <div id="test2" class="tooltip">
                    <img src="images/question_mark.png" onmouseover="javascript:toolTip('test2','maskEditor.html')">
                    </image>
                    <span class="tooltiptext"></span>
                </div>
            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>asdfal
                adfadsf

            </td>
        </tr>
        <tr>
            <td>
                <div id="test3" class="tooltip">
                    <img src="images/question_mark.png" onmouseover="javascript:toolTip('test3','maskEditor.html')">
                    </image>
                    <span class="tooltiptext"></span>
                </div>

            </td>
        </tr>
    </table>




</body>

</html>